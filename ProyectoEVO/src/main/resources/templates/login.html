<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
    <head th:replace="~{layout/plantilla :: head}">
        <title>EVO GYM</title>        
    </head>
        
    <body id="page-top">
        <header th:replace="~{layout/plantilla :: nav-pruebas}"/> 

        <section class="container mt-5">
                <div class="row justify-content-center">
                    <div class="col-md-6">
                        <h2 class="text-center mb-4 titulo-seccion">Inicia sesión en tu cuenta</h2>
                        <p class="descripcion-login">¿Deseas dar tu primer paso? <a th:href="@{/registro/nuevo}">Regístrate</a></p>
                        <form method="POST" th:action="@{/login}">
                            <div class="mb-3">
                                <label for="username" class="form-label">Usuario</label>
                                <div class="input-group">
                                    <input type="text" class="form-control" name="username" id="username" placeholder="Ingresa tu usuario">
                                </div>
                            </div>
                            <div class="mb-3">
                                <label for="password" class="form-label">Contraseña</label>
                                <div class="input-group">
                                    <input type="password" class="form-control" name="password" id="password" placeholder="Ingresa tu contraseña">
                                    <span class="input-group-text">   
                                        <i class="far fa-eye"></i> </span>
                                </div>
                            </div>     

                        
                        
                        <button class="btn btn-primary w-100" type="submit">
                            <span class="btn">
                                <i class="fas fa-sign-in-alt">
                                    
                                </i>
                                            Iniciar sesión
                            </span>
                        </button>

                        <div class="text-center mt-3">
                            <a th:href="@{/registro/recordar}" class="link-danger">¿Olvidó su contraseña?</a>
                        </div>
                    </form>
                        
                    <div th:if="${param.error != null}">
                        <!--<h3>Error al iniciar sesion. Valide</h3>-->
                        <p class="descripcion-login">Error al iniciar sesion. Valide</p>
                    </div>
                </div>
            </div>
        </section>
        <footer th:replace="~{layout/plantilla :: footer}"/> 
        
        <script src="js/scripts.js"></script>
        <script>
            
            document.addEventListener('DOMContentLoaded', (event) => {
                // Función para obtener el idioma de la URL
                function getLanguageFromURL() {
                    const urlParams = new URLSearchParams(window.location.search);
                    return urlParams.get('lang');
                }

                // Obtener el idioma actual de la URL o usar 'ES' como valor por defecto
                const currentLanguage = getLanguageFromURL().toUpperCase() || 'ES'; 

                // Obtener el botón del dropdown
                const dropdownButton = document.getElementById('languageDropdown');

                // Actualizar el texto del botón con el idioma actual
                dropdownButton.textContent = currentLanguage;

                // Agregar event listeners a las opciones del dropdown
                const dropdownItems = document.querySelectorAll('.dropdown-item');

                dropdownItems.forEach(item => {
                    item.addEventListener('click', () => {
                        const selectedLanguage = item.textContent.substring(0, 2).toUpperCase();
                        dropdownButton.textContent = selectedLanguage;
                    });
                });
            });
        </script>
    </body>
</html>